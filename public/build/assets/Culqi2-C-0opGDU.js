import{_ as r}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{o as i,e as a,a as l}from"./app-BVF8fiKq.js";const c={props:["publicKey","payment","amount"],data(){return{amount:this.amount,currency:this.payment.currency,description:this.payment.description}},mounted(){const e=document.createElement("script");e.src="https://checkout.culqi.com/js/v4",e.async=!0,e.onload=this.initCulqi,document.body.appendChild(e),setTimeout(function(){Culqi.open()},3e3)},methods:{initCulqi(){Culqi.publicKey=this.publicKey,Culqi.settings({title:"Nombre de tu tienda",currency:this.currency,amount:this.amount,order:"ord_live_0CjjdWhFpEAZlxlz"}),document.addEventListener("payment_event",this.handlePaymentEvent)},openCulqiModal(){Culqi.open()},handlePaymentEvent(e){if(e.detail.object==="token"){const t=e.detail.token_id;console.log("Se ha creado un token:",t)}else if(e.detail.object==="order"){const t=e.detail.order;console.log("Se ha creado un objeto Order:",t)}else console.log("Error:",e.detail.error),alert(e.detail.error.user_message)}}};function s(e,t,d,u,p,o){return i(),a("div",null,[l("button",{onClick:t[0]||(t[0]=(...n)=>o.openCulqiModal&&o.openCulqiModal(...n))},"Pagar con Culqi")])}const y=r(c,[["render",s]]);export{y as default};
