import{o as n,e as u,a as e,t as a,l,p as c,B as _,C as m}from"./app-YD_aIGBF.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";var p={VITE_OP_PRODUCTION_MODE:"true",VITE_OP_SANDBOX_MODE:"false",VITE_OP_SANDBOX_ENDPOINT:"https://api.openpay.pe",VITE_APP_NAME:"Xplatt",VITE_PUSHER_APP_KEY:"",VITE_PUSHER_HOST:"",VITE_PUSHER_PORT:"443",VITE_PUSHER_SCHEME:"https",VITE_PUSHER_APP_CLUSTER:"mt1",BASE_URL:"/build/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const b={props:["organization_id","api_key","amount","customer","payment"],data(){return{cardData:{cardholderDNI:"",cardholder:"",cardNumber:"",expired:{month:"",year:""},securityCode:"",email:"agrimaldopci18@gmail.com"},amount:this.amount,currency:"PEN",description:"Pago de prueba",card:"front",rebill:{organization_id:this.organization_id,api_key:this.api_key,api_url:p.VITE_RB_API_URL},rebill_checkout:null}},mounted(){this.rebill_checkout=new Rebill.PhantomSDK(this.rebill),this.rebill_checkout.setElements("rebill_elements"),this.rebill_checkout.setCustomer(this.customer)},computed:{isValid(){return!(this.cardData.cardholder.length<5||this.cardData.cardNumber.replace(/\s/g,"").length<=12||this.cardData.expired.month===""||this.cardData.expired.year===""||this.cardData.securityCode.length<3)}},methods:{format(){this.cardData.cardNumber=this.cardData.cardNumber.replace(/\W/gi,"").replace(/(.{4})/g,"$1 ").trim()},noSpaces(){return this.cardData.cardNumber.replace(/\s/g,"")},onSubmit(){this.pay()},async pay(){this.rebill_checkout.setCardHolder({name:this.cardData.cardholder,identification:{type:"DNI",value:this.cardData.cardholderDNI}}),this.rebill_checkout.setTransaction()}}},i=t=>(_("data-v-b3b8a5fa"),t=t(),m(),t),f={class:"flex items-center justify-center min-h-screen bg-gray-100"},g={class:"p-6 text-center bg-white shadow-lg rounded-lg"},D={class:"max-w-md mx-auto shadow-lg rounded-xl bg-white p-6"},y={class:"text-2xl font-semibold text-gray-800"},E={class:"uppercase"},x={class:"text-gray-600 text-sm"},I={class:"credit-card w-full sm:w-auto shadow-lg mx-auto rounded-xl bg-white"},P={class:"mb-4"},S=i(()=>e("label",{for:"cardholder",class:"block text-sm font-medium text-gray-700"},"Card Holder",-1)),N={class:"mb-4"},T=i(()=>e("label",{for:"dni",class:"block text-sm font-medium text-gray-700"},"DNI",-1)),w=i(()=>e("div",{id:"rebill_elements"},null,-1));function k(t,r,s,v,o,R){return n(),u("div",f,[e("div",g,[e("div",D,[e("div",y,[e("span",null,a(s.payment.amount),1),e("span",E,a(s.payment.currency),1)]),e("p",x,a(s.payment.reference_code)+" | "+a(s.payment.description),1),e("p",null,a(t.publicKey),1)]),e("div",I,[e("div",P,[S,l(e("input",{type:"text",id:"cardholder","onUpdate:modelValue":r[0]||(r[0]=d=>o.cardData.cardholder=d),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[c,o.cardData.cardholder]])]),e("div",N,[T,l(e("input",{type:"text",id:"dni","onUpdate:modelValue":r[1]||(r[1]=d=>o.cardData.cardholderDNI=d),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Document number"},null,512),[[c,o.cardData.cardholderDNI]])]),w])])])}const U=h(b,[["render",k],["__scopeId","data-v-b3b8a5fa"]]);export{U as default};
