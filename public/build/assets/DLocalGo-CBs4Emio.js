import{y as v,o as _,e as y,a as e,l as s,z as g,t as c,f,p as i,q as p,x as m,A as b,B as x}from"./app-RImQzQCe.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";var u={VITE_APP_NAME:"Xplatt",VITE_PUSHER_APP_KEY:"",VITE_PUSHER_HOST:"",VITE_PUSHER_PORT:"443",VITE_PUSHER_SCHEME:"https",VITE_PUSHER_APP_CLUSTER:"mt1",BASE_URL:"/build/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const D={props:["openpay_id","openpay_key"],data(){return{cardData:{cardholder:"",cardNumber:"",expired:{month:"",year:""},securityCode:"",email:"agrimaldopci18@gmail.com"},amount:100,currency:"PEN",description:"Pago de prueba",card:"front",openpay:{token:"",endpoint_sandbox_openpay:"https://sandbox-api.openpay.pe/v1/",endpoint_payment:"/charge",deviceSessionId:"",openpay_id:this.openpay_id,openpay_key:this.openpay_key,openpay_sandbox_mode:!0}}},mounted(){OpenPay.setId(u.VITE_OPENPAY_ID),OpenPay.setApiKey(u.VITE_OPENPAY_PK),OpenPay.setSandboxMode(u.VITE_OPENPAY_SANDBOX_MODE==="true"),this.openpay.deviceSessionId=OpenPay.deviceData.setup()},computed:{isValid(){return!(this.cardData.cardholder.length<5||this.cardData.cardNumber.replace(/\s/g,"").length<=12||this.cardData.expired.month===""||this.cardData.expired.year===""||this.cardData.securityCode.length<3)}},methods:{format(){this.cardData.cardNumber=this.cardData.cardNumber.replace(/\W/gi,"").replace(/(.{4})/g,"$1 ").trim()},noSpaces(){return this.cardData.cardNumber.replace(/\s/g,"")},onSubmit(){this.pay()},async pay(){let n=this.noSpaces();try{const o=await new Promise((l,h)=>{OpenPay.token.create({holder_name:this.cardData.cardholder,card_number:n,cvv2:this.cardData.securityCode,expiration_month:this.cardData.expired.month,expiration_year:this.cardData.expired.year},l,h)});if(this.openpay.token=o.data.id,this.openpay.token){console.log(this.openpay.token,"Token obtenido:");const l=await v.post(this.openpay.endpoint_payment,{amount:this.amount,currency:this.currency,description:this.description,deviceSessionId:this.openpay.deviceSessionId,email:this.cardData.email,last_name:this.cardData.cardholder,name:this.cardData.cardholder,token:this.openpay.token});alert(`You did it ${this.cardData.cardholder}.`),console.log(l)}}catch(o){console.log(o)}}}},d=n=>(b("data-v-3cdc6701"),n=n(),x(),n),k={class:"flex items-center justify-center min-h-screen bg-gray-100"},S={class:"p-6 text-center bg-white shadow-lg rounded-lg"},E={class:"credit-card w-full sm:w-auto shadow-lg mx-auto rounded-xl bg-white"},P={class:"flex flex-col justify-center items-center"},N={class:"relative"},V=d(()=>e("img",{class:"w-full h-auto",src:"https://www.computop-paygate.com/Templates/imagesaboutYou_desktop/images/svg-cards/card-visa-front.png",alt:"front credit card"},null,-1)),T={class:"front bg-transparent text-lg w-full text-white px-12 absolute left-0 bottom-12"},I={class:"number mb-5 sm:text-xl"},O={class:"flex flex-row justify-between"},C={class:""},U={key:0},A={class:"relative"},M=d(()=>e("img",{class:"w-full h-auto",src:"https://www.computop-paygate.com/Templates/imagesaboutYou_desktop/images/svg-cards/card-visa-back.png",alt:"back credit card"},null,-1)),R={class:"bg-transparent text-white text-xl w-full flex justify-end absolute bottom-20 px-8 sm:bottom-24 right-0 sm:px-12"},Y={class:"border border-white w-16 h-9 flex justify-center items-center"},B=m('<ul class="flex" data-v-3cdc6701><li class="mx-2" data-v-3cdc6701><img class="w-16" src="https://www.computop-paygate.com/Templates/imagesaboutYou_desktop/images/computop.png" alt="" data-v-3cdc6701></li><li class="mx-2" data-v-3cdc6701><img class="w-14" src="https://www.computop-paygate.com/Templates/imagesaboutYou_desktop/images/verified-by-visa.png" alt="" data-v-3cdc6701></li><li class="ml-5" data-v-3cdc6701><img class="w-7" src="https://www.computop-paygate.com/Templates/imagesaboutYou_desktop/images/mastercard-id-check.png" alt="" data-v-3cdc6701></li></ul>',1),H={class:"mt-4 p-4"},j=d(()=>e("h1",{class:"text-xl font-semibold text-gray-700 text-center"},"MONTO / MONEDA",-1)),K={class:"my-3"},X={class:"my-3"},L=d(()=>e("option",{value:"",selected:"",disabled:""},"Currency",-1)),q=d(()=>e("option",{value:"USD"},"USD",-1)),z=d(()=>e("option",{value:"PEN"},"PEN",-1)),F=d(()=>e("option",{value:"MXN"},"MXN",-1)),G=[L,q,z,F],W=d(()=>e("h1",{class:"text-xl font-semibold text-gray-700 text-center"},"Card payment",-1)),J={class:"my-3"},Q={class:"my-3"},Z={class:"my-3 flex flex-col"},$={class:"mb-2"},ee={class:"text-gray-700"},te={class:"grid grid-cols-2 sm:grid-cols-4 gap-2"},oe=m('<option value="" selected disabled data-v-3cdc6701>MM</option><option value="01" data-v-3cdc6701>01</option><option value="02" data-v-3cdc6701>02</option><option value="03" data-v-3cdc6701>03</option><option value="04" data-v-3cdc6701>04</option><option value="05" data-v-3cdc6701>05</option><option value="06" data-v-3cdc6701>06</option><option value="07" data-v-3cdc6701>07</option><option value="08" data-v-3cdc6701>08</option><option value="09" data-v-3cdc6701>09</option><option value="10" data-v-3cdc6701>10</option><option value="11" data-v-3cdc6701>11</option><option value="12" data-v-3cdc6701>12</option>',13),ae=[oe],se=m('<option value="" selected disabled data-v-3cdc6701>YY</option><option value="24" data-v-3cdc6701>2024</option><option value="25" data-v-3cdc6701>2025</option><option value="26" data-v-3cdc6701>2026</option><option value="27" data-v-3cdc6701>2027</option><option value="28" data-v-3cdc6701>2028</option><option value="29" data-v-3cdc6701>2029</option>',7),de=[se],re={class:"mt-6 p-4"},ce=["disabled"];function ne(n,o,l,h,t,r){return _(),y("div",k,[e("div",S,[e("div",E,[e("header",P,[s(e("div",N,[V,e("div",T,[e("p",I,c(t.cardData.cardNumber!==""?t.cardData.cardNumber:"0000-0000-0000-0000"),1),e("div",O,[e("p",null,c(t.cardData.cardholder!==""?t.cardData.cardholder:"Card holder"),1),e("div",C,[e("span",null,c(t.cardData.expired.month),1),t.cardData.expired.month!==""?(_(),y("span",U,"/")):f("",!0),e("span",null,c(t.cardData.expired.year),1)])])])],512),[[g,t.card==="front"]]),s(e("div",A,[M,e("div",R,[e("div",Y,[e("p",null,c(t.cardData.securityCode!==""?t.cardData.securityCode:"code"),1)])])],512),[[g,t.card==="back"]]),B]),e("main",H,[j,e("div",K,[s(e("input",{type:"number",class:"block w-full px-5 py-2 border rounded-lg bg-white shadow-lg placeholder-gray-400 text-gray-700 focus:ring focus:outline-none",placeholder:"Amount","onUpdate:modelValue":o[0]||(o[0]=a=>t.amount=a)},null,512),[[i,t.amount]])]),e("div",X,[s(e("select",{class:"form-select appearance-none block w-full px-5 py-2 border rounded-lg bg-white shadow-lg placeholder-gray-400 text-gray-700 focus:ring focus:outline-none","onUpdate:modelValue":o[1]||(o[1]=a=>t.currency=a)},G,512),[[p,t.currency]])]),W,e("div",J,[s(e("input",{type:"text",class:"block w-full px-5 py-2 border rounded-lg bg-white shadow-lg placeholder-gray-400 text-gray-700 focus:ring focus:outline-none",placeholder:"Card holder",maxlength:"22","onUpdate:modelValue":o[2]||(o[2]=a=>t.cardData.cardholder=a)},null,512),[[i,t.cardData.cardholder]])]),e("div",Q,[s(e("input",{type:"text",class:"block w-full px-5 py-2 border rounded-lg bg-white shadow-lg placeholder-gray-400 text-gray-700 focus:ring focus:outline-none",placeholder:"Card number","onUpdate:modelValue":o[3]||(o[3]=a=>t.cardData.cardNumber=a),onKeydown:o[4]||(o[4]=(...a)=>r.format&&r.format(...a)),onKeyup:o[5]||(o[5]=(...a)=>r.format&&r.format(...a)),maxlength:"19"},null,544),[[i,t.cardData.cardNumber]])]),e("div",Z,[e("div",$,[e("label",ee,c(t.cardData.expired.month)+" / "+c(t.cardData.expired.year),1)]),e("div",te,[s(e("select",{class:"form-select appearance-none block w-full px-5 py-2 border rounded-lg bg-white shadow-lg placeholder-gray-400 text-gray-700 focus:ring focus:outline-none","onUpdate:modelValue":o[6]||(o[6]=a=>t.cardData.expired.month=a)},ae,512),[[p,t.cardData.expired.month]]),s(e("select",{class:"form-select appearance-none block w-full px-5 py-2 border rounded-lg bg-white shadow-lg placeholder-gray-400 text-gray-700 focus:ring focus:outline-none","onUpdate:modelValue":o[7]||(o[7]=a=>t.cardData.expired.year=a)},de,512),[[p,t.cardData.expired.year]]),s(e("input",{type:"text",class:"block w-full col-span-2 px-5 py-2 border rounded-lg bg-white shadow-lg placeholder-gray-400 text-gray-700 focus:ring focus:outline-none",placeholder:"Security code",maxlength:"4","onUpdate:modelValue":o[8]||(o[8]=a=>t.cardData.securityCode=a),onFocus:o[9]||(o[9]=a=>t.card="back"),onBlur:o[10]||(o[10]=a=>t.card="front")},null,544),[[i,t.cardData.securityCode]])])])]),e("footer",re,[e("button",{class:"submit-button px-4 py-3 rounded-full bg-blue-300 text-blue-900 focus:ring focus:outline-none w-full text-xl font-semibold transition-colors",disabled:!r.isValid,onClick:o[11]||(o[11]=(...a)=>r.onSubmit&&r.onSubmit(...a))}," Pay now ",8,ce)])])])])}const pe=w(D,[["render",ne],["__scopeId","data-v-3cdc6701"]]);export{pe as default};
